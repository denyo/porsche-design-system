import { ComponentStatus } from '@/components/components/ComponentStatus';
import { TableOfContents } from '@/components/common/TableOfContents';

export const metadata = {
  title: 'Button: Accessibility - Porsche Design System',
  description: 'Some description',
};

# Button <ComponentStatus tagName="p-button"></ComponentStatus>

<TableOfContents headings={["A11Y support","Limitations","Considerations for developers","Tests"]} />

## A11Y support

### Keyboard support

| Key / state        | Function                                            |
| ------------------ | --------------------------------------------------- |
| `Tab`, `Shift-Tab` | Moves focus to next (or previous) focusable element |
| `Enter`, `Space`   | Activates the button                                |
| `disabled`         | Button still focusable                              |

### ARIA attributes & states

#### **ARIA** attributes provided by the `aria` property:

| ARIA            | Usage                                                                                                                                        |
| --------------- | -------------------------------------------------------------------------------------------------------------------------------------------- |
| `aria-label`    | Defines a string value that labels an interactive element. It's required for buttons with `hide-label="true"`                                |
| `aria-expanded` | Exposes a visual state (e.g. expanded/collapsed) of another element                                                                          |
| `aria-haspopup` | Defines that the button opens a popup (e.g. `dialog`). It can be used in combination with `aria-expanded` to indicate the state of the popup |
| `aria-pressed`  | Exposes the `pressed` state of a toggle button                                                                                               |

#### Internal **ARIA** attributes that are managed by the component:

| ARIA                   | Usage                                                                                                          |
| ---------------------- | -------------------------------------------------------------------------------------------------------------- |
| `aria-disabled="true"` | When `disabled` prop is set, this ARIA attribute is set on the button element                                  |
| `role="status"`        | When `loading` prop is set, the component announces the loading state (start and finish) through the live area |

## Limitations

Due to the nature of **Web Components** and **shadowDOM**, there are limitations ins usage of **ARIA** attributes and
states if they try to set relationship between elements in different shadow roots of lightDOM.

| ARIA               | Support |
| ------------------ | ------- |
| `aria-labelledby`  | ðŸš«      |
| `aria-describedby` | ðŸš«      |
| `aria-owns`        | ðŸš«      |
| `aria-controls`    | ðŸš«      |

## Considerations for developers

### Labelling

If the text on a button does not clearly indicate what the button's behavior is, add a brief, descriptive label using
the `aria` property with the `aria-label` value to provide more context for e.g. screen reader users. Phrases like
"Add," "Detail," or "Show" can be unclear when read out of context by a screen reader. In such instances, provide an
alternative text that offers more detailed information, such as "Add itemXYZ to shopping cart" or "Details of
productXYZ."

## Tests

| Technology               | Support | Details                                         |
| ------------------------ | ------- | ----------------------------------------------- |
| Keyboard                 | âœ…      |                                                 |
| Screenreader (VoiceOver) | âœ…      |                                                 |
| High-Contrast Mode (HCM) | ðŸŸ       | Currently no outline visible in variant "ghost" |
| Text-Zoom (200%)         | âœ…      |                                                 |
